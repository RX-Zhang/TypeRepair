--- 
+++ 
@@ -4,13 +4,19 @@
     }
     
     while (deferredBlockStreams.size() > 1) {
-        // In solid compression mode we need to decompress all leading folder'
-        // streams to get access to an entry. We defer this until really needed
-        // so that entire blocks can be skipped without wasting time for decompression.
         final InputStream stream = deferredBlockStreams.remove(0);
         IOUtils.skip(stream, Long.MAX_VALUE);
         stream.close();
     }
 
+    if (deferredBlockStreams.get(0) == null) {
+        // No data stream available for current entry, try to build it
+        buildDecodingStream();
+        if (deferredBlockStreams.isEmpty() || deferredBlockStreams.get(0) == null) {
+            throw new IllegalStateException("No current 7z entry (call getNextEntry() first).");
+        }
+    }
+
     return deferredBlockStreams.get(0);
 }
+
