--- 
+++ 
@@ -18,7 +18,7 @@
     String myComment = getComment();
     String otherComment = other.getComment();
     if (myComment == null) {
-        if (otherComment != null) {
+        if (otherComment != null && !otherComment.isEmpty()) {
             return false;
         }
     } else if (!myComment.equals(otherComment)) {
@@ -36,5 +36,6 @@
                          other.getCentralDirectoryExtra())
         && Arrays.equals(getLocalFileDataExtra(),
                          other.getLocalFileDataExtra())
-        && gpb.equals(other.gpb);
+        && getGeneralPurposeBit().equals(other.getGeneralPurposeBit());
 }
+
