--- 
+++ 
@@ -1,10 +1,14 @@
 private static Type resolve(Type context, Class<?> contextRawType, Type toResolve,
                             Collection<TypeVariable> visitedTypeVariables) {
   // this implementation is made a little more complicated in an attempt to avoid object-creation
+  if (toResolve == null) {
+    throw new IllegalArgumentException("toResolve cannot be null");
+  }
+  
   while (true) {
     if (toResolve instanceof TypeVariable) {
       TypeVariable<?> typeVariable = (TypeVariable<?>) toResolve;
-        // cannot reduce due to infinite recursion
+      // cannot reduce due to infinite recursion
       toResolve = resolveTypeVariable(context, contextRawType, typeVariable);
       if (toResolve == typeVariable) {
         return toResolve;
@@ -71,3 +75,4 @@
     }
   }
 }
+
