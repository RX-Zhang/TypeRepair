--- 
+++ 
@@ -24,7 +24,7 @@
     txt = txt.replaceAll("^gn", "2n");
 
     // End 
-    txt = txt.replaceAll("^mb", "m2");
+    txt = txt.replaceAll("mb$", "m2");
 
     // 4. Handle replacements
     txt = txt.replaceAll("cq", "2q");
@@ -63,7 +63,7 @@
     txt = txt.replaceAll("w3", "W3");
     //txt = txt.replaceAll("wy", "Wy");    // 1.0 only
     txt = txt.replaceAll("wh3", "Wh3");
-    txt = txt.replaceAll("w$", "3");       // 2.0 only
+    txt = txt.replaceAll("w$", "3");       // 2.0
     //txt = txt.replaceAll("why", "Why");  // 1.0 only
     txt = txt.replaceAll("w", "2");
     txt = txt.replaceAll("^h", "A");
@@ -86,8 +86,9 @@
     txt = txt.replaceAll("3", "");
 
     // 6. put ten 1s on the end
-    txt = txt + "111111" + "1111";        // 1.0 only has 6 1s
+    txt = txt + "111111" + "1";        // 1.0 only has 6 1s
 
-    // 7. take the first six characters as the code
-    return txt.substring(0, 10);          // 1.0 truncates to 6
+    // 7. take the first characters as the code
+    return txt.substring(0,10);          // 1.0 truncates to 6
 }
+
