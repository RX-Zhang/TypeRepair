--- 
+++ 
@@ -29,7 +29,10 @@
     if (var != null) {
       Scope ownerScope = var.getScope();
       if (ownerScope.isLocal()) {
-        data.get(ownerScope.getRootNode()).recordAssignedName(name);
+        // Verify the type of the variable before recording it
+        if (var.getType() != null) {
+          data.get(ownerScope.getRootNode()).recordAssignedName(name);
+        }
       }
 
       if (scope != ownerScope && ownerScope.isLocal()) {
@@ -50,3 +53,4 @@
     }
   }
 }
+
