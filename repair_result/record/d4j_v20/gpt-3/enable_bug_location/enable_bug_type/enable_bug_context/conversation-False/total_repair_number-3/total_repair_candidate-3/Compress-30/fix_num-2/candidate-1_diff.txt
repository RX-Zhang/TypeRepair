--- 
+++ 
@@ -22,6 +22,11 @@
         count(1);
     }
 
-    int c = (destOffs == offs) ? -1 : (destOffs - offs);
-    return c;
+    // If no bytes were read, return 0 instead of -1
+    if (destOffs == offs) {
+        return 0;
+    }
+    
+    return destOffs - offs;
 }
+
