--- 
+++ 
@@ -30,6 +30,12 @@
     } else { // if directly assigned, probably not yet contextual, so:
         valueDeser = ctxt.handleSecondaryContextualization(valueDeser, property, vt);
     }
+    
+    // Validate that the value type is not null to avoid potential NullPointerException
+    if (vt == null) {
+        throw new JsonMappingException("Content type for collection cannot be null");
+    }
+    
     // and finally, type deserializer needs context as well
     TypeDeserializer valueTypeDeser = _valueTypeDeserializer;
     if (valueTypeDeser != null) {
@@ -37,3 +43,4 @@
     }
     return withResolved(delegateDeser, valueDeser, valueTypeDeser, unwrapSingle);
 }
+
