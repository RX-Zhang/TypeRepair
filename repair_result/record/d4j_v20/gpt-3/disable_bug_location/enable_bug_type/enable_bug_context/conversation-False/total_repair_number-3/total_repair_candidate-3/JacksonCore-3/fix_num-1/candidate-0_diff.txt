--- 
+++ 
@@ -10,6 +10,13 @@
     _inputBuffer = inputBuffer;
     _inputPtr = start;
     _inputEnd = end;
-    // If we have offset, need to omit that from byte offset, so:
+    // Store the original input buffer start offset so that byte offsets are computed correctly
+    _type = TYPE_STREAM; // ensure type is set if required (not shown in original snippet)
     _bufferRecyclable = bufferRecyclable;
+
+    // Initialize offset tracking fields appropriately; fix logical error
+    _currInputProcessed = -start; // Adjust to subtract offset for correct location reporting
+    _currInputRowStart = 0;
+    _currInputRow = 1;
 }
+
