--- 
+++ 
@@ -13,6 +13,10 @@
     if (this.in == null) {
         throw new IOException("stream closed");
     }
+    
+    if (len == 0) {
+        return 0;
+    }
 
     final int hi = offs + len;
     int destOffs = offs;
@@ -25,3 +29,4 @@
     int c = (destOffs == offs) ? -1 : (destOffs - offs);
     return c;
 }
+
