--- 
+++ 
@@ -2,7 +2,11 @@
       // For labels with block children, we need to ensure that a
       // labeled FUNCTION or DO isn't generated when extraneous BLOCKs 
       // are skipped. 
-        // Either a empty statement or an block with more than one child,
-        // way it isn't a FUNCTION or DO.
+      // Either an empty statement or a block with more than one child,
+      // means it isn't a FUNCTION or DO.
+    if (n == null) {
+      return false;
+    }
     return (n.getType() == Token.FUNCTION || n.getType() == Token.DO);
 }
+
