--- 
+++ 
@@ -14,18 +14,15 @@
         int fileNameLen = ZipShort.getValue(b);
         archive.readFully(b);
         int extraFieldLen = ZipShort.getValue(b);
-        int lenToSkip = fileNameLen;
-        while (lenToSkip > 0) {
-            int skipped = archive.skipBytes(lenToSkip);
-            if (skipped <= 0) {
-                throw new RuntimeException("failed to skip file name in"
-                                           + " local file header");
-            }
-            lenToSkip -= skipped;
-        }
+
+        // Read file name bytes (needed if we want to read the extra data correctly)
+        byte[] fileNameData = new byte[fileNameLen];
+        archive.readFully(fileNameData);
+
         byte[] localExtraData = new byte[extraFieldLen];
         archive.readFully(localExtraData);
         ze.setExtra(localExtraData);
+
         offsetEntry.dataOffset = offset + LFH_OFFSET_FOR_FILENAME_LENGTH
             + SHORT + SHORT + fileNameLen + extraFieldLen;
 
@@ -41,3 +38,4 @@
         }
     }
 }
+
