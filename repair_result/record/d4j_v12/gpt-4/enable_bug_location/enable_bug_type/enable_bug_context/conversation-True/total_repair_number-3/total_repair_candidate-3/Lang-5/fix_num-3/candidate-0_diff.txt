--- 
+++ 
@@ -3,15 +3,45 @@
         return null;
     }
     final int len = str.length();
-    if (len < 2) {
+    if (len < 1) {
         throw new IllegalArgumentException("Invalid locale format: " + str);
     }
     final char ch0 = str.charAt(0);
-        final char ch1 = str.charAt(1);
-        if (!Character.isLowerCase(ch0) || !Character.isLowerCase(ch1)) {
+    if (ch0 == '_') { // special case for variants starting with underscore
+        if (len < 3) {
             throw new IllegalArgumentException("Invalid locale format: " + str);
         }
+        final char ch1 = str.charAt(1);
+        final char ch2 = str.charAt(2);
+        if (!Character.isUpperCase(ch1) || !Character.isUpperCase(ch2)) {
+            throw new IllegalArgumentException("Invalid locale format: " + str);
+        }
+        if (len == 3) {
+            return new Locale("", str.substring(1, 3));
+        }
+        if (len == 4) {
+            return new Locale("", str.substring(1, 3), str.substring(3));
+        }
+        if (len > 4) {
+            if (str.charAt(3) != '_') {
+                throw new IllegalArgumentException("Invalid locale format: " + str);
+            }
+            return new Locale("", str.substring(1, 3), str.substring(4));
+        }
+        throw new IllegalArgumentException("Invalid locale format: " + str);
+    } else {
+        // normal case
+        if (!Character.isLowerCase(ch0)) {
+            throw new IllegalArgumentException("Invalid locale format: " + str);
+        }
+        if (len == 1) {
+            return new Locale(str);
+        }
+        final char ch1 = (len > 1) ? str.charAt(1) : 0;
         if (len == 2) {
+            if (!Character.isLowerCase(ch1)) {
+                throw new IllegalArgumentException("Invalid locale format: " + str);
+            }
             return new Locale(str);
         }
         if (len < 5) {
@@ -38,4 +68,6 @@
             throw new IllegalArgumentException("Invalid locale format: " + str);
         }
         return new Locale(str.substring(0, 2), str.substring(3, 5), str.substring(6));
+    }
 }
+
