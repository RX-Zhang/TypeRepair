--- 
+++ 
@@ -32,9 +32,12 @@
     // the checks for broken requires turned off. In these cases, we
     // allow broken requires to be preserved by the first run to
     // let them be caught in the subsequent run.
-    if (provided != null) {
-      parent.detachFromParent();
-      compiler.reportCodeChange();
+    if (provided == null) {
+      // Do not remove unrecognized requires here to allow further processing.
+      return;
     }
+    parent.detachFromParent();
+    compiler.reportCodeChange();
   }
 }
+
