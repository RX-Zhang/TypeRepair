--- 
+++ 
@@ -8,14 +8,18 @@
   for (int i = 0; i < s.length(); i++) {
     char c = s.charAt(i);
     switch (c) {
-      case '\0': sb.append("\\0"); break;
+      case '\0': 
+        // Escape null character as \000 (octal)
+        sb.append("\\000");
+        break;
       case '\n': sb.append("\\n"); break;
       case '\r': sb.append("\\r"); break;
       case '\t': sb.append("\\t"); break;
       case '\\': sb.append(backslashEscape); break;
       case '\"': sb.append(doublequoteEscape); break;
       case '\'': sb.append(singlequoteEscape); break;
-      case '>':                       // Break --> into --\> or ]]> into ]]\>
+      case '>':                       
+        // Break --> into --\> or ]]> into ]]\>
         if (i >= 2 &&
             ((s.charAt(i - 1) == '-' && s.charAt(i - 2) == '-') ||
              (s.charAt(i - 1) == ']' && s.charAt(i - 2) == ']'))) {
@@ -69,3 +73,4 @@
   sb.append(quote);
   return sb.toString();
 }
+
