--- 
+++ 
@@ -1,3 +1,5 @@
 protected JSType caseTopType(JSType topType) {
-  return topType;
+  // Instead of returning topType, restrict to array type if possible
+  return restrictToArrayVisitor.caseTopType(topType);
 }
+
