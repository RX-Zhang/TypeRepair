--- 
+++ 
@@ -6,6 +6,8 @@
   boolean resolved = resolveViaRegistry(t, enclosing);
   if (detectImplicitPrototypeCycle()) {
     handleTypeCycle(t);
+    // If cycle detected, return UNKNOWN type to prevent further processing
+    return registry.getNativeObjectType(JSTypeNative.UNKNOWN_TYPE);
   }
 
   if (resolved) {
@@ -18,6 +20,8 @@
   resolveViaProperties(t, enclosing);
   if (detectImplicitPrototypeCycle()) {
     handleTypeCycle(t);
+    // Return UNKNOWN type here too to avoid stack overflow or infinite loops
+    return registry.getNativeObjectType(JSTypeNative.UNKNOWN_TYPE);
   }
 
   super.resolveInternal(t, enclosing);
@@ -27,3 +31,4 @@
   return registry.isLastGeneration() ?
       getReferencedType() : this;
 }
+
