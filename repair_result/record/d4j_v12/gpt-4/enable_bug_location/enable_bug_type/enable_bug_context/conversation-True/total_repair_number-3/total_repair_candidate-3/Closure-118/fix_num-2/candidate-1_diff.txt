--- 
+++ 
@@ -11,14 +11,18 @@
     Property prop = getProperty(name);
     if (!prop.scheduleRenaming(child,
                                processProperty(t, prop, type, null))) {
-      // TODO(user): It doesn't look like the user can do much in this
-      // case right now.
+      // Handle invalidation and report error if necessary.
       if (propertiesToErrorFor.containsKey(name)) {
-        compiler.report(JSError.make(
+        JSError error = JSError.make(
             t.getSourceName(), child, propertiesToErrorFor.get(name),
             Warnings.INVALIDATION, name,
-            (type == null ? "null" : type.toString()), n.toString(), ""));
+            (type == null ? "null" : type.toString()), n.toString(), "");
+        compiler.report(error);
+        if (type != null) {
+          addInvalidatingType(type, error);
+        }
       }
     }
   }
 }
+
