--- 
+++ 
@@ -51,8 +51,8 @@
             providedNames.get(namespace.substring(0, indexOfDot));
         Preconditions.checkNotNull(parentName);
         Preconditions.checkNotNull(parentName.replacementNode);
-        parentName.replacementNode.getParent().addChildAfter(
-            replacementNode, parentName.replacementNode);
+        parentName.replacementNode.getParent().addChildBefore(
+            replacementNode, parentName.replacementNode.getNext());
       }
     }
     if (explicitNode != null) {
@@ -61,3 +61,4 @@
     compiler.reportCodeChange();
   }
 }
+
