--- 
+++ 
@@ -19,16 +19,20 @@
 
   Node argList = getFunctionArgList(function);
   boolean modifyCallers = modifyCallSites
+      && callSiteOptimizer != null
       && callSiteOptimizer.canModifyCallers(function);
+
   if (!modifyCallers) {
     // Strip unreferenced args off the end of the function declaration.
+    // Only trailing unreferenced parameters are removed.
     Node lastArg;
     while ((lastArg = argList.getLastChild()) != null) {
       Var var = fnScope.getVar(lastArg.getString());
-      if (!referenced.contains(var)) {
+      if (var == null || !referenced.contains(var)) {
         argList.removeChild(lastArg);
         compiler.reportCodeChange();
       } else {
+        // If this arg is referenced, stop removing further args.
         break;
       }
     }
@@ -36,3 +40,4 @@
     callSiteOptimizer.optimize(fnScope, referenced);
   }
 }
+
