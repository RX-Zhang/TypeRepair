--- 
+++ 
@@ -41,10 +41,10 @@
     }
     
     if (this.maxMiddleIndex >= 0) {
-        long s = getDataItem(this.minMiddleIndex).getPeriod().getStart()
-            .getTime();
-        long e = getDataItem(this.minMiddleIndex).getPeriod().getEnd()
-            .getTime();
+        long s = getDataItem(this.maxMiddleIndex).getPeriod().getStart()
+            .getTime(); // Fixed from minMiddleIndex to maxMiddleIndex
+        long e = getDataItem(this.maxMiddleIndex).getPeriod().getEnd()
+            .getTime(); // Fixed from minMiddleIndex to maxMiddleIndex
         long maxMiddle = s + (e - s) / 2;
         if (middle > maxMiddle) {
             this.maxMiddleIndex = index;           
@@ -77,3 +77,4 @@
     }
     
 }
+
