--- 
+++ 
@@ -10,6 +10,10 @@
   Map<TemplateType, JSType> inferred = 
       inferTemplateTypesFromParameters(fnType, n);
 
+  // Ensure that inferred types are valid before proceeding
+  if (inferred == null || inferred.isEmpty()) {
+    return false;
+  }
 
   // Replace all template types. If we couldn't find a replacement, we
   // replace it with UNKNOWN.
@@ -26,3 +30,4 @@
 
   return replacer.madeChanges;
 }
+
