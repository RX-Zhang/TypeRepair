--- 
+++ 
@@ -6,6 +6,12 @@
     millis += (((long) getHours()) * ((long) DateTimeConstants.MILLIS_PER_HOUR));
     millis += (((long) getDays()) * ((long) DateTimeConstants.MILLIS_PER_DAY));
     millis += (((long) getWeeks()) * ((long) DateTimeConstants.MILLIS_PER_WEEK));
+    
+    // Fixed: Check if the type supports the fields being used
+    if (!type.isSupported(DurationFieldType.years()) || !type.isSupported(DurationFieldType.months())) {
+        throw new UnsupportedOperationException("Field is not supported");
+    }
+    
     Period result = new Period(millis, type, ISOChronology.getInstanceUTC());
     int years = getYears();
     int months = getMonths();
@@ -21,3 +27,4 @@
     }
     return result;
 }
+
