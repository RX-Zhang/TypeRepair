--- 
+++ 
@@ -6,7 +6,15 @@
 
     // We should never see a mix of numbers and strings.
     String name = child.getString();
+    
+    // Ensure type is not null to prevent potential NullPointerException
     T type = typeSystem.getType(getScope(), n, name);
+    
+    // Convert type to a valid type if necessary
+    if (type == null) {
+      // Handle the case where type is null before proceeding
+      continue;
+    }
 
     Property prop = getProperty(name);
     if (!prop.scheduleRenaming(child,
@@ -17,8 +25,9 @@
         compiler.report(JSError.make(
             t.getSourceName(), child, propertiesToErrorFor.get(name),
             Warnings.INVALIDATION, name,
-            (type == null ? "null" : type.toString()), n.toString(), ""));
+            type.toString(), n.toString(), ""));
       }
     }
   }
 }
+
