--- 
+++ 
@@ -43,7 +43,7 @@
       return false;
     }
 
-    // Make sure that the value is not self-refential. IOW,
+    // Make sure that the value is not self-referential. IOW,
     // disallow things like x = {b: x.a}.
     //
     // TODO: Only exclude unorderable self-referential
@@ -59,14 +59,13 @@
         return false;
       }
 
-
       Node childVal = child.getFirstChild();
       // Check if childVal is the parent of any of the passed in
       // references, as that is how self-referential assignments
       // will happen.
       for (Reference t : refs) {
         Node refNode = t.getParent();
-        while (!NodeUtil.isStatementBlock(refNode)) {
+        while (refNode != null && !NodeUtil.isStatementBlock(refNode)) {
           if (refNode == childVal) {
             // There's a self-referential assignment
             return false;
@@ -76,7 +75,6 @@
       }
     }
 
-
     // We have found an acceptable object literal assignment. As
     // long as there are no other assignments that mess things up,
     // we can inline.
@@ -84,3 +82,4 @@
   }
   return ret;
 }
+
