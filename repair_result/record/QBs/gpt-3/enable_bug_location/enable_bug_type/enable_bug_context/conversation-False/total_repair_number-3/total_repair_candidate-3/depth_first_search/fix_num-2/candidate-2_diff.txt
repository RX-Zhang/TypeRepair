--- 
+++ 
@@ -1,13 +1,20 @@
 def depth_first_search(startnode, goalnode):
     nodesvisited = set()
+    
     def search_from(node):
         if node in nodesvisited:
             return False
         elif node is goalnode:
             return True
-        else:
+        
+        nodesvisited.add(node)  # Mark the node as visited to prevent cycles
+        
+        # Ensure successors are valid before searching
+        if node.successors:
             return any(
                 search_from(nextnode) for nextnode in node.successors
             )
+        return False  # Return false if there are no successors
+
     return search_from(startnode)
 
